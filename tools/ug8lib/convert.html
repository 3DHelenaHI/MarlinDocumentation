<!DOCTYPE html>
<!--
  Marlin Firmware Documentation
  Copyright (C) 2016 MarlinFirmware [https://github.com/MarlinFirmware/Marlin]

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.


  Generated by Jekyll v3.0.3
  Website version: 0.0.6
--><html lang="en">
  <head>
    <!-- head -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v1.3.3 -->
<title>U8Glib bitmap converter - Marlin 3D Printer Firmware</title>
<meta property="og:title" content="U8Glib bitmap converter">
<meta name="description" content="Bitmap to C/C++ byte array converter">
<meta property="og:description" content="Bitmap to C/C++ byte array converter">
<link rel="canonical" href="http://marlinfw.org/tools/ug8lib/convert.html">
<meta property="og:url" content=" http://marlinfw.org/tools/ug8lib/convert.html">
<meta property="og:site_name" content="Marlin 3D Printer Firmware">
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "WebPage",
    "headline": "U8Glib bitmap converter",
    "description": "Bitmap to C/C++ byte array converter",
    "logo": " http://marlinfw.org/assets/images/logo/marlin/small.png",
    "url": " http://marlinfw.org/tools/ug8lib/convert.html"
  }
</script>
<!-- End Jekyll SEO tag -->

    <link rel="icon" href="/assets/favicon.ico">
    <link rel="stylesheet" href="/assets/stylesheets/bootstrap.min.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="/assets/javascript/head.min.js"></script>
    <script type="text/javascript">
      /**
       * As Github pages do not support https for custom domains
       * this is the current best workaround for #18.
       */
      var domains  = ['www.marlinfw.org', 'marlinfw.org', 'localhost', '127.0.0.1' ];
      var pathname = location.pathname.replace(/^\/MarlinDocumentation/, '')
      if (domains.indexOf(window.location.hostname) == -1)
          window.top.location.href = 'http://www.marlinfw.org' + pathname;

      /**
       * Improves overall speed by loading javascript and css resources in parallel
       * with the main page.
       */
      head.load(
          "/assets/stylesheets/font-awesome.min.css",
          "/assets/stylesheets/syntax.css",
          "/assets/stylesheets/custom.css",

          "/assets/javascript/jquery-2.2.1.min.js",
          "/assets/javascript/jquery-ui.min.js",
          "/assets/javascript/bootstrap.min.js",
          "/assets/javascript/sheetrock.min.js",
          "/assets/javascript/tocify.min.js",
          "/assets/javascript/holder.min.js",
          "/assets/javascript/custom.js",

          "//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/1.0.9/cookieconsent.min.js"
      );

      head.ready(function() {
        window.cookieconsent_options = {
          "message":"We uses cookies to ensure you get the best experience on our website",
          "dismiss": "Got it!", "learnMore": "More info", "link":"", "theme": "dark-bottom"
        };
      });
    </script>
    <!-- /head -->
  </head>
  <body role="document">
    <!-- navbar -->
    <nav class="navbar navbar-default navbar-fixed-top custom-no-margin">
      <div class="container">
        <div class="navbar-header">
          <a href="/" class="navbar-brand">
            <img src="/assets/images/logo/marlin/text.png" alt="Marlin" height="25">
          </a>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>

        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-getting-started">
              Getting Started <span class="caret"></span></a>

              <ul class="dropdown-menu" aria-labelledby="getting-started">
                <li>
                  <a href="/articles/getting-started/overview.html">
                  Introduction</a> </li>

                <li class="divider"> </li>

                <li>
                  <a href="#">
                  <del>How to get</del></a> </li>

                <li>
                  <a href="/articles/development/configuration.html">
                  How to configure</a> </li>

                <li>
                  <a href="/articles/getting-started/install.html">
                  How to flash your board</a> </li>

                <li class="divider"> </li>

                <li>
                <a href="/articles/development/reporting-bugs.html">
                Reporting bugs</a> </li>
              </ul>
            </li>

            <li>
              <a href="/download/">
              Download</a> </li>

            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-documentation">
              Documentation <span class="caret"></span></a>

              <ul class="dropdown-menu" aria-labelledby="documentation">
                <li>
                  <a href="/articles/development/changelog.html">
                  Changelog</a> </li>

                <li class="divider"> </li>

                <li>
                  <a href="#">
                  <del>Current stable release</del></a> </li>

                <li>
                  <a href="#">
                  <del>Current development release</del></a> </li>

                <li class="divider"> </li>

                <li>
                  <a href="/meta/needs-review/">
                  Documentation needing review</a> </li>
              </ul>
            </li>

            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-development">
              Development <span class="caret"></span></a>

              <ul class="dropdown-menu" aria-labelledby="development">
                <li>
                  <a href="/articles/development/contributing.html">
                  Contributing</a> </li>

                <li>
                  <a href="/articles/development/coding-standards.html">
                  Coding standards</a> </li>

                <li class="divider"> </li>

                <li>
                  <a href="https://github.com/MarlinFirmware/Marlin/issues">
                  Bugtracker</a> </li>

                <li>
                  <a href="/articles/development/reporting-bugs.html">
                  Reporting bugs</a> </li>

                <li class="divider"> </li>

                <li>
                  <a href="https://github.com/MarlinFirmware/Marlin/">
                  Source code repository</a> </li>
              </ul>
            </li>
          </ul>

        </div>
      </div>
    </nav>
    <!-- /navbar -->




    <script type="text/javascript">
  /**
   * U8Glib bitmap converter
   * Copyright (C) 2016 João Brázio [https://github.com/jbrazio]
   *
   * This program is free software: you can redistribute it and/or modify
   * it under the terms of the GNU General Public License as published by
   * the Free Software Foundation, either version 3 of the License, or
   * (at your option) any later version.
   *
   * This program is distributed in the hope that it will be useful,
   * but WITHOUT ANY WARRANTY; without even the implied warranty of
   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   * GNU General Public License for more details.
   *
   * You should have received a copy of the GNU General Public License
   * along with this program.  If not, see <http://www.gnu.org/licenses/>.
   */
  var img = null;
  var ctx = null;

  head.ready(function() {
    var input  = document.getElementById('file-input');
    var canvas = document.getElementById('preview');

    if (canvas.getContext) {
      ctx = canvas.getContext('2d');
      img = new Image();

      input.addEventListener('change', function() {
        var file = input.files[0];
        if (!file) return;

        var reader = new FileReader();

        reader.addEventListener("load", function () {
          img.src = reader.result;

          ctx.canvas.width  = img.width;
          ctx.canvas.height = img.height;
          ctx.drawImage(img, 0, 0);

          var data = ctx.getImageData(0, 0, canvas.width, canvas.height);
          var buffer = data.data;
          var out = [];

          var lf = Math.floor(ctx.canvas.width /8);
          var l = lf;

          var name = img.src.replace( /\\/g, '/' ).replace( /.*\//, '' ).split('.')[0];
          var bytes = Math.ceil(ctx.canvas.width * ctx.canvas.height /8);

          var j = 0;
          for (var i = 0; i < buffer.length; i += 4) {
            var lum = buffer[i] * 0.3 + buffer[i+1] * 0.59 + buffer[i+2] * 0.11;
            var bit = (lum < 127) ? 1 : 0;
            out.push(bit);

            if (++j == ctx.canvas.width) {
              for (var k = j; k < 8; k++) out.push(1);
              j = 0;
            }
          }

          document.getElementById('output').innerHTML
            = '// Width: ' + ctx.canvas.width + ', Height: ' + ctx.canvas.height + '<br />';

          document.getElementById('output').innerHTML
            += 'const unsigned char ' + name + '[' + bytes + '] PROGMEM = {' + '<br />'

          document.getElementById('output').innerHTML
            += '&nbsp;&nbsp';

          for (var i = 0; i < out.length; i +=8) {
            var byte = null;
            for (var k = 0; k < 8; k++) byte += (out[i + k] << (7-k));

            document.getElementById('output').innerHTML += '0x'
              + ('0' + (byte & 0xFF).toString(16)).slice(-2) + ', ';

            if (l == 0) {
              document.getElementById('output').innerHTML
                += '<br/>' + '&nbsp;&nbsp';
              l = lf;
            }
            else l--;

          }

          document.getElementById('output').innerHTML
            += '<br />' + '}';
        }, false);

        reader.readAsDataURL(file);
      }, false);
    }
  });
</script>

<div class="container" role="main">
  <div class="row">
    <div class="col-lg-12">
      <h1>U8Glib bitmap converter</h1>
      <p>This tool allows you to convert a jpg/png image file to a C/C++ code style array.<br>
         This array can then be used by the OSS Arduino library <a href="https://github.com/olikraus/u8glib">U8Glib</a> to draw custom images on screen.</p>
      <div class="container">
        <div class="row">
          <div class="col-lg-1">
            <canvas id="preview" width="128" height="64"></canvas>
          </div>
          <div class="col-lg-11 custom-pt5">
            <input type="file" id="file-input" accept="image/*">
          </div>
        </div>
      </div>
      <p>Copy the following array into your program.</p>
      <p><code id="output">You must load an image first.</code></p>
    </div>
  </div>
</div>



    <!-- footer -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <hr>
            <ul class="list-unstyled">
              <li class="pull-right"><a href="#top" data-proofer-ignore>Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a></li>
              <li>Brought to you with <i class="fa fa-heart text-danger" aria-hidden="true"></i> lack of
                <i class="fa fa-bed" aria-hidden="true"></i> and lots of
                <i class="fa fa-coffee" aria-hidden="true"></i>.
              </li>
<li>The contents of this website are © 2016 under the terms of the <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a> License.</li>
            </ul>
          </div>
        </div>
      </div>
    </footer>
    <!-- /footer -->


    <!-- analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-76230130-1', {
          'cookieDomain': 'marlinfw.org',
          'siteSpeedSampleRate': 80
      });

      ga('require', 'displayfeatures');
      ga('send', 'pageview');
    </script>
    <!-- /analytics -->

  </body>
</html>
