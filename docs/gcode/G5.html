<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Bézier cubic spline - Marlin 3D Printer Firmware</title><meta property="og:title" content="Bézier cubic spline"><meta name="description" content=""><meta property="og:description" content=""><link rel="canonical" href="http://marlinfw.org/docs/gcode/G5.html"><meta property="og:url" content="http://marlinfw.org/docs/gcode/G5.html"><meta property="og:site_name" content="Marlin 3D Printer Firmware"><meta property="og:type" content="article"><meta property="article:published_time" content="2016-07-16T02:54:52+01:00"><link rel="next" href="http://marlinfw.org/docs/gcode/G90.html" title="Set to Absolute Positioning"><link rel="prev" href="http://marlinfw.org/docs/gcode/G4.html" title="Dwell"> <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Bézier cubic spline",
    "datePublished": "2016-07-16T02:54:52+01:00",
    "description": "",
    "logo": "http://marlinfw.org/assets/images/logo/marlin/small.png",
    "url": "http://marlinfw.org/docs/gcode/G5.html"
  }
</script><link rel="icon" href="/assets/favicon.ico"><link rel="stylesheet" href="/assets/stylesheets/main.css"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script><script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script><![endif]--><script src="/assets/javascript/head.min.js"></script><script>var domains=["www.marlinfw.org","marlinfw.org","localhost","127.0.0.1"],pathname=location.pathname.replace(/^\/MarlinDocumentation/,"");-1==domains.indexOf(window.location.hostname)&&(window.top.location.href="http://www.marlinfw.org"+pathname),head.load("/assets/stylesheets/font-awesome.min.css","/assets/javascript/jquery-2.2.1.min.js","/assets/javascript/jquery-ui.min.js","/assets/javascript/bootstrap.min.js","/assets/javascript/tocify.min.js","/assets/javascript/custom.js","/assets/javascript/sheetrock.min.js","/assets/javascript/cookieconsent.min.js"),head.ready(function(){window.cookieconsent_options={message:"We uses cookies to ensure you get the best experience on our website",dismiss:"Got it!",learnMore:"More info",link:"",theme:"dark-bottom"}})</script></head><body role="document"><nav class="navbar navbar-default navbar-fixed-top custom-no-margin"><div class="container"><div class="navbar-header"> <a href="/" class="navbar-brand"> <img src="/assets/images/logo/marlin/text.png" alt="Marlin" height="25"> </a> <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="navbar-collapse collapse" id="navbar-main"><ul class="nav navbar-nav"><li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-getting-started"> Getting Started <span class="caret"></span></a><ul class="dropdown-menu"><li> <a href="/docs/basics/introduction.html"> Introduction</a></li><li class="divider"></li><li class="disabled"> <a href="#"> How to get</a></li><li> <a href="/docs/development/configuration.html"> How to configure</a></li><li> <a href="/docs/basics/install.html"> How to flash your board</a></li><li class="divider"></li><li class="disabled"> <a href="#"> Reporting bugs</a></li></ul></li><li> <a href="/meta/download/"> Download</a></li><li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-documentation"> Documentation <span class="caret"></span></a><ul class="dropdown-menu"><li class="dropdown-submenu"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development</a><ul class="dropdown-menu"><li><a href="/meta/development/">All documents</a></li><li class="divider"></li><li><a href="/docs/development/configuration.html"> Configuration manual </a></li><li><a href="/docs/development/boards.html"> Supported hardware list </a></li></ul></li><li class="dropdown-submenu"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">G-Code</a><ul class="dropdown-menu"><li><a href="/meta/gcode/">All documents</a></li><li class="divider"></li><li><a href="/docs/gcode/G0.html"> G0: Linear Move </a></li><li><a href="/docs/gcode/G10.html"> G10: Retract </a></li><li><a href="/docs/gcode/G11.html"> G11: Unretract </a></li><li><a href="/docs/gcode/G2.html"> G2: Controlled Arc Move </a></li><li><a href="/docs/gcode/G20.html"> G20: Inches </a></li><li><a href="/docs/gcode/G21.html"> G21: Millimeters </a></li><li><a href="/docs/gcode/G28.html"> G28: Move to Origin </a></li><li><a href="/docs/gcode/G29-mbl.html"> G29: Mesh-based Z-Probe </a></li><li><a href="/docs/gcode/G29.html"> G29: Detailed Z-Probe </a></li><li><a href="/docs/gcode/G30.html"> G30: Single Z-Probe </a></li><li><a href="/docs/gcode/G31.html"> G31: Dock sled </a></li><li><a href="/docs/gcode/G32.html"> G32: Undock sled </a></li><li><a href="/docs/gcode/G4.html"> G4: Dwell </a></li><li><a href="/docs/gcode/G5.html"> G5: Bézier cubic spline </a></li><li><a href="/docs/gcode/G90.html"> G90: Set to Absolute Positioning </a></li><li><a href="/docs/gcode/G91.html"> G91: Set to Relative Positioning </a></li><li><a href="/docs/gcode/G92.html"> G92: Set Position </a></li></ul></li><li class="dropdown-submenu"> <a href="#" class="dropdown-toggle" data-toggle="dropdown">Marlin features</a><ul class="dropdown-menu"><li><a href="/meta/features/">All documents</a></li><li class="divider"></li><li><a href="/docs/features/lin_advance.html"> Linear Advance extrusion algorithm </a></li></ul></li><li class="divider"></li><li> <a href="/meta/needs-review/"> Documentation needing review</a></li></ul></li><li class="dropdown"> <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="navbar-tools"> Tools <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/tools/u8glib/converter.html"> C/C++ bitmap converter</a></li><li class="divider"></li><li><a href="https://github.com/MarlinFirmware/Marlin/issues"> Bugtracker</a></li><li><a href="/docs/basics/reporting-bugs.html"> Reporting bugs</a></li><li class="divider"></li><li><a href="https://github.com/MarlinFirmware/Marlin/"> Source code repository</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right visible-lg-block"><li> <a href="https://github.com/MarlinFirmware/MarlinDocumentation/edit/master/_gcode/G5.md" data-proofer-ignore> <i class="fa fa-pencil-square-o" aria-hidden="true"></i> <span class="">Improve this page</span></a></li></ul></div></div> </nav><div class="container" role="main"><div class="row"><div class="col-lg-3 col-md-4 visible-lg-block visible-md-block custom-no-padding"><div class=""><div class="tocify"><ul class="tocify-header nav nav-list"><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G0.html">G0: Linear Move</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G10.html">G10: Retract</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G11.html">G11: Unretract</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G2.html">G2: Controlled Arc Move</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G20.html">G20: Inches</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G21.html">G21: Millimeters</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G28.html">G28: Move to Origin</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G29-mbl.html">G29: Mesh-based Z-Probe</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G29.html">G29: Detailed Z-Probe</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G30.html">G30: Single Z-Probe</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G31.html">G31: Dock sled</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G32.html">G32: Undock sled</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G4.html">G4: Dwell</a></li><li class="tocify-item active" style="cursor:pointer"> <a href="/docs/gcode/G5.html">G5: Bézier cubic spline</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G90.html">G90: Set to Absolute Positioning</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G91.html">G91: Set to Relative Positioning</a></li><li class="tocify-item" style="cursor:pointer"> <a href="/docs/gcode/G92.html">G92: Set Position</a></li></ul></div></div></div><div class="col-lg-9 col-md-8 custom-bg-white"><div class="row"><div class="col-md-12 custom-article"><div class="row"><div class="col-lg-12"><h1 class="custom-no-margin-bottom"> G5 - Bézier cubic spline</h1> <span class="label label-warning"><span data-toggle="tooltip" data-placement="bottom" title="Experimental feature"><i class="fa fa-flask" aria-hidden="true"></i></span></span> <span class="label label-success"><span data-toggle="tooltip" data-placement="bottom" title="Available since"><i class="fa fa-code" aria-hidden="true"></i> 1.1.0-RC7</span></span> <span class="label label-default"><i class="fa fa-tags" aria-hidden="true"></i> planner</span> <span class="label label-primary"><i class="fa fa-pencil-square" aria-hidden="true"></i> Cubic B-spline with XYZE destination and IJPQ offsets</span></div></div><div class="row"><div class="col-lg-12"><p></p><p>G5 creates a cubic B-spline in the XY plane with the X and Y axes only. P and Q must both be specified for every G5 command. For the first G5 command in a series of G5 commands, I and J must both be specified. For subsequent G5 commands, either both I and J must be specified, or neither. If I and J are unspecified, the starting direction of this cubic will automatically match the ending direction of the previous cubic (as if I and J are the negation of the previous P and Q).</p></div></div><div class="row"><div class="col-lg-12"><h2>Usage</h2> <code>G5 <span data-toggle="tooltip" data-placement="bottom" data-original-title="X incremental offset from start point to first control point"> &lt;I&lt;pos in mm&gt;&gt; </span> <span data-toggle="tooltip" data-placement="bottom" data-original-title="X incremental offset from start point to first control point"> &lt;J&lt;pos in mm&gt;&gt; </span> <span data-toggle="tooltip" data-placement="bottom" data-original-title="X incremental offset from start point to first control point"> &lt;P&lt;pos in mm&gt;&gt; </span> <span data-toggle="tooltip" data-placement="bottom" data-original-title="X incremental offset from start point to first control point"> &lt;Q&lt;pos in mm&gt;&gt; </span> <span data-toggle="tooltip" data-placement="bottom" data-original-title="A coordinate on the X axis"> &lt;X&lt;pos in mm&gt;&gt; </span> <span data-toggle="tooltip" data-placement="bottom" data-original-title="A coordinate on the Y axis"> &lt;Y&lt;pos in mm&gt;&gt; </span> </code></div></div><div class="row"><div class="col-lg-12"><div class="table-responsive"><p></p><table class="table"><thead><tr><th>Argument</th><th>Description</th></tr></thead><tbody><tr><td><code> &lt;I&lt;pos in mm&gt;&gt; </code></td><td>X incremental offset from start point to first control point</td></tr><tr><td><code> &lt;J&lt;pos in mm&gt;&gt; </code></td><td>X incremental offset from start point to first control point</td></tr><tr><td><code> &lt;P&lt;pos in mm&gt;&gt; </code></td><td>X incremental offset from start point to first control point</td></tr><tr><td><code> &lt;Q&lt;pos in mm&gt;&gt; </code></td><td>X incremental offset from start point to first control point</td></tr><tr><td><code> &lt;X&lt;pos in mm&gt;&gt; </code></td><td>A coordinate on the X axis</td></tr><tr><td><code> &lt;Y&lt;pos in mm&gt;&gt; </code></td><td>A coordinate on the Y axis</td></tr></tbody></table></div></div></div><div class="row"><div class="col-lg-12"><p></p><p>It is an error if an axis other than X or Y is specified.</p></div></div><div class="row"><div class="col-lg-12"><h2>Examples</h2><p></p><p>For example, to program a curvy N shape:</p> <figure class="highlight"><pre><code class="language-gcode" data-lang="gcode">G0 X0 Y0
G5 I0 J3 P0 Q-3 X1 Y1</code></pre></figure><p></p><p>A second curvy N that attaches smoothly to this one can now be made without specifying I and J:</p> <figure class="highlight"><pre><code class="language-gcode" data-lang="gcode">G5 P0 Q-3 X2 Y2</code></pre></figure></div></div></div></div></div></div></div> <footer><div class="container"><div class="row"><div class="col-lg-12"><hr></div></div><div class="row"><div class="col-lg-8"><p>Brought to you with <i class="fa fa-heart text-danger" aria-hidden="true"></i> lack of <i class="fa fa-bed" aria-hidden="true"></i> and lots of <i class="fa fa-coffee" aria-hidden="true"></i>. <br> The contents of this website are © 2016 under the terms of the <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GPLv3</a> License.</p></div><div class="col-lg-4"><div class="pull-right"> <a href="#top" data-proofer-ignore> Back to top <i class="fa fa-level-up" aria-hidden="true"></i></a></div></div></div></div> </footer> <script>!function(e,a,t,n,s,i,o){e.GoogleAnalyticsObject=s,e[s]=e[s]||function(){(e[s].q=e[s].q||[]).push(arguments)},e[s].l=1*new Date,i=a.createElement(t),o=a.getElementsByTagName(t)[0],i.async=1,i.src=n,o.parentNode.insertBefore(i,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-76230130-1",{cookieDomain:"marlinfw.org",siteSpeedSampleRate:80}),ga("require","displayfeatures"),ga("send","pageview")</script></body></html>